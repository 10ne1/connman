#!/bin/sh

if [ -f config.status ]; then
	make maintainer-clean
fi

if [ ! -f doc/gtk-doc.make ]; then
	gtkdocize --copy --docdir doc
fi

./bootstrap && \
    ./configure --enable-maintainer-mode \
		--enable-gtk-doc \
		--enable-debug \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--localstatedir=/var \
		--sysconfdir=/etc \
		--disable-datafiles \
		--enable-loopback=builtin \
		--enable-ethernet=builtin \
		--enable-wifi=builtin \
		--enable-bluetooth=builtin \
		--enable-ofono=builtin \
		--enable-modemmgr \
		--enable-udhcp=builtin \
		--enable-dhclient=builtin \
		--enable-resolvconf=builtin \
		--enable-dnsproxy=builtin \
		--enable-novatel \
		--enable-huawei \
		--enable-hso \
		--enable-ppp \
		--enable-udev \
		--enable-iwmx \
		--enable-iospm \
		--enable-polkit \
		--enable-client \
		--enable-tools $*
